(()=>{"use strict";const e=window.wp.interactivity,{state:n,actions:t}=(0,e.store)("moiraine/menu-designer",{state:{get isMenuOpen(){const n=(0,e.getContext)();return Object.values(n.menuOpenedBy||{}).filter(Boolean).length>0}},actions:{toggleMenuOnClick(){const n=(0,e.getContext)(),{ref:c}=(0,e.getElement)();n.menuOpenedBy.click||n.menuOpenedBy.focus?t.closeMenuOnClick():(n.previousFocus=c,t.openMenu("click"))},closeMenuOnClick(){t.closeMenu("click"),t.closeMenu("focus")},handleMenuKeydown(n){(0,e.getContext)().menuOpenedBy.click&&"Escape"===n?.key&&t.closeMenuOnClick()},handleOutsideClick(n){const{ref:c}=(0,e.getElement)(),o=c.querySelector(".moiraine-menu-designer");o&&!o.contains(n.target)&&t.closeMenuOnClick()},openMenu(n="click"){(0,e.getContext)().menuOpenedBy[n]=!0},closeMenu(t="click"){const c=(0,e.getContext)();c.menuOpenedBy[t]=!1,n.isMenuOpen||(c.previousFocus&&c.previousFocus.focus(),c.previousFocus=null)}}})})();