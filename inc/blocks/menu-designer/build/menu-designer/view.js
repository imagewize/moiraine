(()=>{"use strict";const e=window.wp.interactivity,{state:n,actions:o}=(0,e.store)("moiraine/menu-designer",{state:{get isMenuOpen(){const n=(0,e.getContext)(),o=Object.values(n.menuOpenedBy||{}).filter(Boolean).length>0;return console.log("ðŸ”¥ MENU DESIGNER: isMenuOpen getter called"),console.log("ðŸ”¥ MENU DESIGNER: context.menuOpenedBy =",n.menuOpenedBy),console.log("ðŸ”¥ MENU DESIGNER: isMenuOpen result =",o),o}},actions:{toggleMenuOnClick(){console.log("ðŸ”¥ MENU DESIGNER: toggleMenuOnClick called");const n=(0,e.getContext)(),{ref:l}=(0,e.getElement)();console.log("ðŸ”¥ MENU DESIGNER: context =",n),console.log("ðŸ”¥ MENU DESIGNER: context.menuOpenedBy =",n.menuOpenedBy),console.log("ðŸ”¥ MENU DESIGNER: ref =",l),n.menuOpenedBy.click||n.menuOpenedBy.focus?(console.log("ðŸ”¥ MENU DESIGNER: Closing menu"),o.closeMenuOnClick()):(console.log("ðŸ”¥ MENU DESIGNER: Opening menu"),n.previousFocus=l,o.openMenu("click"))},closeMenuOnClick(){o.closeMenu("click"),o.closeMenu("focus")},handleMenuKeydown(n){(0,e.getContext)().menuOpenedBy.click&&"Escape"===n?.key&&o.closeMenuOnClick()},handleOutsideClick(n){const{ref:l}=(0,e.getElement)(),c=l.querySelector(".moiraine-menu-designer");c&&!c.contains(n.target)&&o.closeMenuOnClick()},openMenu(o="click"){console.log("ðŸ”¥ MENU DESIGNER: openMenu called with",o);const l=(0,e.getContext)();l.menuOpenedBy[o]=!0,console.log("ðŸ”¥ MENU DESIGNER: After setting, context.menuOpenedBy =",l.menuOpenedBy),console.log("ðŸ”¥ MENU DESIGNER: state.isMenuOpen =",n.isMenuOpen)},closeMenu(o="click"){console.log("ðŸ”¥ MENU DESIGNER: closeMenu called with",o);const l=(0,e.getContext)();l.menuOpenedBy[o]=!1,console.log("ðŸ”¥ MENU DESIGNER: After closing, context.menuOpenedBy =",l.menuOpenedBy),console.log("ðŸ”¥ MENU DESIGNER: state.isMenuOpen =",n.isMenuOpen),n.isMenuOpen||(l.previousFocus&&l.previousFocus.focus(),l.previousFocus=null)}}})})();